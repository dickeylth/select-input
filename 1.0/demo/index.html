<!doctype html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>SelectInput的demo</title>
    <script src="http://g.tbcdn.cn/kissy/k/1.3.0/kissy-min.js" charset="utf-8"></script>
    <link rel="stylesheet" href="http://g.tbcdn.cn/kissy/k/1.3.0/css/dpl/base-min.css">
    <!--comboCSS-->
    <link href="http://g.tbcdn.cn/trip/hotel-backstage/0.1.0/pages/hotel-add.css" rel="stylesheet" charset="UTF-8"/>
</head>
<body>
<h2>SelectInput的demo</h2>
<form id="J_AddHotelForm" class="form-horizontal page-content add-hotel-form" role="form" action="">
    <div class="form-group required hotel-phone-wrapper J_HotelPhoneWrapper">
        <label class="control-label col-sm-2" for="J_PhoneType">电话：<i>*</i></label>
        <div class="col-sm-offset-2 clearfix phone-item J_PhoneItem">
            <div class="col-sm-2">
                <select class="form-control input-sm">
                    <option value="0">请选择电话类型</option>
                    <option value="fixed">固定电话</option>
                    <option value="mob">移动电话</option>
                    <option value="400">400或800电话</option>
                </select>
            </div>
            <div class="clearfix J_PhoneContentWrapper hidden">
                <div class="form-inline col-sm-5 J_PhoneInput"></div>
                <div class="col-sm-1">
                    <button type="button" class="btn btn-sm btn-danger J_DelPhone"><span class="glyphicon glyphicon-minus"></span>&nbsp;删除</button>
                </div>
            </div>
        </div>
        <div class="col-sm-10 col-sm-offset-2 add-phone-wrapper">
            <button type="button" class="btn btn-sm btn-primary J_AddPhone hidden"><span class="glyphicon glyphicon-plus"></span>&nbsp;增加</button>
            <button type="button" id="J_LogValue" class="btn btn-sm btn-primary">console.log值</button>
        </div>
    </div>
</form>
<script>
    var S = KISSY;
    if (S.Config.debug) {
        var srcPath = "../../";
        S.config({
            packages:[
                {
                    name:"gallery/select-input",
                    path:srcPath,
                    charset:"utf-8",
                    ignorePackageNameInUri:true
                }
            ]
        });
    }

    S.use('gallery/select-input/1.0/index', function (S, SelectInput) {
          var selectInput = new SelectInput({
              container: '.J_HotelPhoneWrapper',
              contentContainer: '.J_PhoneContentWrapper',
              inputContainer: '.J_PhoneInput',
              inpTpl: [
                  '<div class="form-group"><input type="text" class="input-sm form-control country-code-inp J_CountryCodeInp" placeholder="国家代码" maxlength="5"/></div>&nbsp;-&nbsp;' +
                          '<div class="form-group"><input type="tel" class="input-sm form-control area-code-inp" placeholder="区号" maxlength="4"/></div>&nbsp;-&nbsp;' +
                          '<div class="form-group"><input type="tel" class="input-sm form-control" placeholder="固定电话号码" maxlength="10"/></div>&nbsp;-&nbsp;' +
                          '<div class="form-group"><input type="tel" class="input-sm form-control ext-num-inp" placeholder="分机" maxlength="5"/></div>',

                  '<div class="form-group"><input type="tel" class="input-sm form-control mob-phone-inp" placeholder="移动电话号码" maxlength="18"></div>',

                  '<div class="form-group"><input type="text" class="input-sm form-control country-code-inp J_CountryCodeInp" placeholder="国家代码" maxlength="5"/></div>&nbsp;-&nbsp;' +
                          '<div class="form-group"><input type="tel" class="input-sm form-control 400-phone-inp" placeholder="400或800电话号码" maxlength="18"></div>'
              ],
              itemSelector: '.J_PhoneItem',
              buttons: {
                  add: '.J_AddPhone',
                  del: '.J_DelPhone'
              }
          });

        S.all('#J_LogValue').on('click', function(){
            console.log(selectInput.getValue());
        });
    })
</script>
</body>
</html>
